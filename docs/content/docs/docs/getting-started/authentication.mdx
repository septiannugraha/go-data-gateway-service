---
title: Authentication
description: Panduan autentikasi untuk menggunakan INAPROC API Gateway
---

# Authentication

## Metode Autentikasi

INAPROC API Gateway menggunakan **OAuth 2.0** dengan Bearer Token untuk autentikasi. Setiap request ke API harus menyertakan token di header.

## Mendapatkan Access Token

### 1. Client Credentials Flow

Untuk aplikasi server-to-server:

```bash
curl -X POST https://api.inaproc.id/v1/oauth/token \
  -H "Content-Type: application/x-www-form-urlencoded" \
  -d "grant_type=client_credentials" \
  -d "client_id=YOUR_CLIENT_ID" \
  -d "client_secret=YOUR_CLIENT_SECRET"
```

Response:
```json
{
  "access_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "token_type": "Bearer",
  "expires_in": 3600,
  "scope": "read write"
}
```

### 2. Password Grant (Deprecated)

```bash
curl -X POST https://api.inaproc.id/v1/oauth/token \
  -H "Content-Type: application/x-www-form-urlencoded" \
  -d "grant_type=password" \
  -d "username=user@example.com" \
  -d "password=yourpassword" \
  -d "client_id=YOUR_CLIENT_ID"
```

## Menggunakan Access Token

Sertakan token di header Authorization:

```bash
curl -X GET https://api.inaproc.id/v1/tender/paket \
  -H "Authorization: Bearer YOUR_ACCESS_TOKEN"
```

## Refresh Token

Token akan expire setelah 1 jam. Gunakan refresh token untuk mendapatkan token baru:

```bash
curl -X POST https://api.inaproc.id/v1/oauth/token \
  -H "Content-Type: application/x-www-form-urlencoded" \
  -d "grant_type=refresh_token" \
  -d "refresh_token=YOUR_REFRESH_TOKEN" \
  -d "client_id=YOUR_CLIENT_ID"
```

## API Key Authentication (Simple)

Untuk testing dan development, Anda bisa menggunakan API Key:

```bash
curl -X GET https://api.inaproc.id/v1/tender/paket \
  -H "X-API-Key: YOUR_API_KEY"
```

## Scopes

| Scope | Deskripsi |
|-------|-----------|
| `read` | Akses read-only ke semua endpoint |
| `write` | Akses write ke endpoint yang diizinkan |
| `tender.read` | Akses read ke layanan Tender & Non Tender |
| `vendor.read` | Akses read ke layanan Vendor/Penyedia |
| `rup.read` | Akses read ke layanan RUP |

## Praktik Keamanan Terbaik

1. **Jangan share API Key atau Client Secret**
2. **Gunakan HTTPS selalu**
3. **Rotate credentials secara berkala**
4. **Batasi scope sesuai kebutuhan**
5. **Monitor penggunaan API**

## Token Management

### Validate Token
```bash
curl -X POST https://api.inaproc.id/v1/oauth/introspect \
  -H "Content-Type: application/x-www-form-urlencoded" \
  -d "token=YOUR_ACCESS_TOKEN"
```

### Revoke Token
```bash
curl -X POST https://api.inaproc.id/v1/oauth/revoke \
  -H "Content-Type: application/x-www-form-urlencoded" \
  -d "token=YOUR_ACCESS_TOKEN"
```

## Error Codes

| Code | Deskripsi |
|------|-----------|
| `401` | Unauthorized - Token invalid atau expired |
| `403` | Forbidden - Tidak memiliki permission |
| `429` | Too Many Requests - Rate limit terlampaui |
