# =============================================================================
# n8n WORKFLOW CONFIGURATION - EXAMPLE
# =============================================================================
# Copy this file to .env and fill in your actual values
# NEVER commit .env with real credentials!

# =============================================================================
# DATABASE CONFIGURATION (PostgreSQL for n8n)
# =============================================================================
DB_USER=n8n
DB_PASSWORD=change_me_to_secure_password
DB_NAME=n8n

# =============================================================================
# n8n CONFIGURATION
# =============================================================================
# n8n Host and Port
N8N_HOST=localhost
N8N_PORT=5678
N8N_PROTOCOL=http

# Webhook URL - Change this to your public URL in production
WEBHOOK_URL=http://localhost:5678

# Basic Authentication (Optional)
N8N_BASIC_AUTH_ACTIVE=false
N8N_BASIC_AUTH_USER=admin
N8N_BASIC_AUTH_PASSWORD=change_me_admin_password

# Encryption Key - MUST be set to a random string for production
# Generate with: openssl rand -hex 32
N8N_ENCRYPTION_KEY=your-32-character-encryption-key-here

# User Management
N8N_USER_MANAGEMENT_DISABLED=false

# Timezone
TZ=Asia/Jakarta

# =============================================================================
# FUSIO API CONFIGURATION
# =============================================================================
# Fusio API Gateway settings for user registration
FUSIO_API_URL=http://localhost:8000
FUSIO_API_KEY=your_fusio_api_key_here
FUSIO_ADMIN_USER=admin
FUSIO_ADMIN_PASSWORD=your_fusio_admin_password_here

# =============================================================================
# GOOGLE FORMS CONFIGURATION
# =============================================================================
# Expected passphrase for form validation
FORM_PASSPHRASE=spse2025

# FormLinker webhook secret (if using webhook validation)
FORMLINKER_SECRET=your_formlinker_secret_here

# =============================================================================
# EMAIL CONFIGURATION (Gmail SMTP)
# =============================================================================
# Gmail SMTP settings for sending credentials
GMAIL_USER=your.email@gmail.com
# Use App Password, not regular password!
# Generate at: https://myaccount.google.com/apppasswords
GMAIL_APP_PASSWORD=your_16_character_app_password

# Email settings
EMAIL_FROM_NAME=SPSE Data Gateway
EMAIL_FROM_ADDRESS=noreply@spse-gateway.com
EMAIL_SUBJECT=Welcome to SPSE Data Gateway - Your API Credentials

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================
# Password generation settings
PASSWORD_LENGTH=16
PASSWORD_INCLUDE_NUMBERS=true
PASSWORD_INCLUDE_SYMBOLS=true
PASSWORD_INCLUDE_UPPERCASE=true
PASSWORD_INCLUDE_LOWERCASE=true

# Rate limiting for webhook endpoint
RATE_LIMIT_REQUESTS=10
RATE_LIMIT_WINDOW_MINUTES=1

# =============================================================================
# MONITORING & LOGGING
# =============================================================================
# Error notification email (where to send workflow errors)
ERROR_NOTIFICATION_EMAIL=admin@example.com

# Log level (error, warn, info, debug)
LOG_LEVEL=info

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================
# Enable test mode (uses mock services instead of real APIs)
TEST_MODE=false

# Mock user email domain (for testing)
TEST_EMAIL_DOMAIN=test.local

# =============================================================================
# IMPORTANT SECURITY NOTES
# =============================================================================
# 1. NEVER commit this file with real credentials
# 2. Use strong, unique passwords for all services
# 3. Generate new encryption key for production
# 4. Enable HTTPS in production (N8N_PROTOCOL=https)
# 5. Use environment-specific .env files (.env.dev, .env.prod)
# 6. Rotate credentials regularly
# 7. Monitor failed registration attempts